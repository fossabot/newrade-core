{"version":3,"sources":["../../src/commands/local-ip.ts"],"sourcesContent":["import os from 'os';\n\nimport { Command } from '@oclif/core';\n\nimport { debugInstance, enableDebug, NS } from '../utilities/log.utilities.js';\n\n/**\n * Get local IPv4 addresses\n */\nexport default class LocalIp extends Command {\n  log = debugInstance(`${NS}:local-ip`);\n  logWarn = debugInstance(`${NS}:local-ip:warn`);\n  logError = debugInstance(`${NS}:local-ip:error`);\n\n  static description = 'Print out local machine ip on the connected network';\n\n  static examples = [`$ nr local-ip`];\n\n  static args = [{ name: 'args' }];\n\n  static flags = {\n    // config: Flags.string({ description: '', default: '' }),\n  };\n\n  async run() {\n    enableDebug();\n\n    const { args, flags } = await this.parse(LocalIp);\n\n    let localIp;\n    const ifaces = os.networkInterfaces();\n    const interfacesIds = Object.keys(ifaces);\n\n    this.log(`found: ${interfacesIds.length} interfaces`);\n\n    interfacesIds.forEach((ifname) => {\n      const networkInterfaces = ifaces[ifname];\n      networkInterfaces?.forEach((iface) => {\n        if (!/ipv4/gi.test(iface.family)) {\n          return;\n        }\n\n        this.log(`found ipv4: ${iface.address}`);\n      });\n    });\n  }\n}\n"],"names":["LocalIp","Command","log","debugInstance","NS","logWarn","logError","description","examples","args","name","flags","run","enableDebug","parse","localIp","ifaces","os","networkInterfaces","interfacesIds","Object","keys","length","forEach","ifname","iface","test","family","address"],"mappings":"AAAA;;;;;AAAe,IAAA,GAAI,kCAAJ,IAAI,EAAA;AAEK,IAAA,KAAa,WAAb,aAAa,CAAA;AAEU,IAAA,eAA+B,WAA/B,+BAA+B,CAAA;AAK/D,MAAMA,OAAO,SAASC,KAAO,QAAA;IAC1CC,GAAG,GAAGC,CAAAA,GAAAA,eAAa,AAAkB,CAAA,cAAlB,CAAC,CAAC,EAAEC,eAAE,GAAA,CAAC,SAAS,CAAC,CAAC,CAAC;IACtCC,OAAO,GAAGF,CAAAA,GAAAA,eAAa,AAAuB,CAAA,cAAvB,CAAC,CAAC,EAAEC,eAAE,GAAA,CAAC,cAAc,CAAC,CAAC,CAAC;IAC/CE,QAAQ,GAAGH,CAAAA,GAAAA,eAAa,AAAwB,CAAA,cAAxB,CAAC,CAAC,EAAEC,eAAE,GAAA,CAAC,eAAe,CAAC,CAAC,CAAC;IAEjD,OAAOG,WAAW,GAAG,qDAAqD,CAAC;IAE3E,OAAOC,QAAQ,GAAG;QAAC,CAAC,aAAa,CAAC;KAAC,CAAC;IAEpC,OAAOC,IAAI,GAAG;QAAC;YAAEC,IAAI,EAAE,MAAM;SAAE;KAAC,CAAC;IAEjC,OAAOC,KAAK,GAAG;KAEd,CAAC;IAEF,MAAMC,GAAG,GAAG;QACVC,CAAAA,GAAAA,eAAW,AAAE,CAAA,YAAF,EAAE,CAAC;QAEd,MAAM,EAAEJ,IAAI,CAAA,EAAEE,KAAK,CAAA,EAAE,GAAG,MAAM,IAAI,CAACG,KAAK,CAACd,OAAO,CAAC,AAAC;QAElD,IAAIe,OAAO,AAAC;QACZ,MAAMC,MAAM,GAAGC,GAAE,QAAA,CAACC,iBAAiB,EAAE,AAAC;QACtC,MAAMC,aAAa,GAAGC,MAAM,CAACC,IAAI,CAACL,MAAM,CAAC,AAAC;QAE1C,IAAI,CAACd,GAAG,CAAC,CAAC,OAAO,EAAEiB,aAAa,CAACG,MAAM,CAAC,WAAW,CAAC,CAAC,CAAC;QAEtDH,aAAa,CAACI,OAAO,CAAC,CAACC,MAAM,GAAK;YAChC,MAAMN,iBAAiB,GAAGF,MAAM,CAACQ,MAAM,CAAC,AAAC;YACzCN,iBAAiB,aAAjBA,iBAAiB,WAAS,GAA1BA,KAAAA,CAA0B,GAA1BA,iBAAiB,CAAEK,OAAO,CAAC,CAACE,KAAK,GAAK;gBACpC,IAAI,CAAC,SAASC,IAAI,CAACD,KAAK,CAACE,MAAM,CAAC,EAAE;oBAChC,OAAO;iBACR;gBAED,IAAI,CAACzB,GAAG,CAAC,CAAC,YAAY,EAAEuB,KAAK,CAACG,OAAO,CAAC,CAAC,CAAC,CAAC;aAC1C,CAAC,CAAC;SACJ,CAAC,CAAC;KACJ;CACF;kBArCoB5B,OAAO"}